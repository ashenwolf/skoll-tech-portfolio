{% extends 'base.html' %}

{% block javascript %}

	<script type="text/javascript" src="/static/js/jquery.easing-1.3.js"></script>
	<script type="text/javascript" src="/static/js/jquery.iosslider.js"></script>

	<script type="text/javascript">
		$(document).ready(function() {
			/* some custom settings */
			$('.iosSlider').iosSlider({
				desktopClickDrag: true,
				snapToChildren: true,
//				navSlideSelector: '.sliderContainer .slideSelectors .item',
				onSlideComplete: slideComplete,
				onSliderLoaded: sliderLoaded,
				onSlideChange: slideChange,
				autoSlide: true,
//				scrollbar: true,
//				scrollbarContainer: '.sliderContainer .scrollbarContainer',
//				scrollbarMargin: '0',
//				scrollbarBorderRadius: '0'
			});

		});

		function slideChange(args) {
		
			$('.sliderContainer .slideSelectors .item').removeClass('selected');
			$('.sliderContainer .slideSelectors .item:eq(' + args.currentSlideNumber + ')').addClass('selected');
			try {
				console.log(args);
			} catch(err) {
			}
			
		}
		
		function slideComplete(args) {
				
			$(args.sliderObject).find('.text1, .text2').attr('style', '');
			
			$(args.currentSlideObject).find('.text1').animate({
				right: '100px',
				opacity: '0.8'
			}, 400, 'easeOutQuint');
			
			$(args.currentSlideObject).find('.text2').delay(200).animate({
				right: '50px',
				opacity: '0.8'
			}, 400, 'easeOutQuint');
			
		}
		
		function sliderLoaded(args) {
			slideComplete(args);
			slideChange(args);
		}

	</script>

{% endblock %}

{% block content %}

	<div class="row">
		<div class="span10 offset1 sliderContainer">
			<!-- slider container -->
			<div class='iosSlider'>
				<!-- slider -->
				<div class='slider'>
					<!-- slides -->
					{% for project in projects %}
					<div class='item'>
						<div class = 'selectorShadow'></div>
						<div class = 'text1'><span>{{ project.title }}</span></div>
						<div class = 'text2'><span>{{ project.teaser }}</span></div>
						<div style="height: 400px;">
							<img src="{{ project.teaser_image()|serve_image(800, False) }}" style="width: 100%;" />
						</div>
					</div>
					{% endfor %}
				</div>
			</div>
			<div class = 'slideSelectors'>
				{% for project in projects %}
					<div class = 'item'></div>
				{% endfor %}
			</div>
		</div>
	</div>

	<div class="row">
		<div class="span12">
			<hr />
			<h2>Featured products</h2>
		</div>
	</div>

	<div class="row">
		<div class="span4">
			<h3>Website: Woody Мебель</h3>
			<img src="http://placehold.it/400x200" />
		</div>
		
		<div class="span4">
			<h3>Website: Skoll Technologies</h3>
			<img src="http://placehold.it/400x200" />
		</div>
		
		<div class="span4">
			<h3>Website: Kyiv Kendo Federation</h3>
			<img src="http://placehold.it/400x200" />
		</div>
	</div>

	<div class="row">
		<div class="span12">
			<hr />
			<h2>Expertise cloud</h2>
		</div>
	</div>

{% endblock %}
